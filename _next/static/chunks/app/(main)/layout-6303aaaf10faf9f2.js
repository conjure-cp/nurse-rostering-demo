(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{6018:(e,n,s)=>{Promise.resolve().then(s.bind(s,9299))},9299:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>I});var l=s(5155),t=s(7624);s(2115);var r=s(4328),a=s(4136),i=s(6562),o=s(4794),c=s(719),d=s(2006),u=s(2868),h=s(8885),x=s(9093),m=s(648),f=s(554),p=s.n(f),j=s(2888),b=s(1565),g=s(6046);let C=[{name:"Dashboard",icon:m.Qkn,iconActive:m.Uhn,href:"/dashboard"},{name:"Staff",icon:m.AYP,iconActive:m.Itr,href:"/staff"},{name:"Qualifications",icon:m._pB,iconActive:m.SeC,href:"/qualifications"},{name:"Calendar",icon:m.ISr,iconActive:m.GUB,href:"/calendar"}];function v(e){let{children:n}=e,{isOpen:s,onOpen:c,onClose:d}=(0,r.j)();return(0,l.jsxs)(t.az,{children:[(0,l.jsxs)(a.s,{children:[(0,l.jsx)(y,{onClose:()=>d,display:{base:"none",md:"block"},className:"bg-surface m-4 rounded-xl"}),(0,l.jsx)(i._,{autoFocus:!1,isOpen:s,placement:"left",onClose:d,returnFocusOnClose:!1,onOverlayClick:d,size:"full",children:(0,l.jsx)(o.z,{children:(0,l.jsx)(y,{onClose:d})})}),(0,l.jsx)(w,{onOpen:c})]}),(0,l.jsx)(t.az,{ml:{base:0,md:60},p:"4",children:n})]})}let y=e=>{let{onClose:n,...s}=e;return(0,l.jsxs)(t.az,{transition:"500ms ease",w:{base:"full",md:60},pos:"fixed",h:"75%",...s,children:[(0,l.jsxs)(a.s,{h:"20",alignItems:"center",mx:"8",justifyContent:"space-between",children:[(0,l.jsx)(p(),{className:"w-36 text-3xl font-bold pl-2",draggable:!1,href:"/",children:"NRP"}),(0,l.jsx)(c.J,{display:{base:"flex",md:"none"},onClick:n})]}),(0,l.jsx)(a.s,{flexDirection:"column",justifyContent:"space-between",className:"h-[calc(100%-10rem)]",children:(0,l.jsx)(t.az,{className:"[& p]:mt-0",children:C.map(e=>(0,l.jsx)(N,{icon:e.icon,iconActive:e.iconActive,href:e.href,onClick:n,children:e.name},e.name))})})]})},N=e=>{let{icon:n,iconActive:s,href:t,children:r,...i}=e,o=(0,g.usePathname)();return(0,l.jsx)(p(),{href:t,style:{textDecoration:"none"},children:(0,l.jsxs)(a.s,{align:"center",py:"3",px:"6",mx:"4",my:"2",borderRadius:"400",role:"group",cursor:"pointer",width:"fit-content",_hover:{bg:"rgba(231, 233, 234, 0.5)"},className:A(t,o)?"bg-secondaryContainer text-primaryText":"",...i,children:[n&&(0,l.jsx)(d.I,{mr:"4",fontSize:"16",_groupHover:{},as:A(t,o)?s:n}),(0,l.jsx)("p",{className:A(t,o)?"font-bold":"",children:r})]})})},w=e=>{let{onOpen:n,...s}=e,{isOpen:t,onOpen:i,onClose:o}=(0,r.j)(),c=(0,g.usePathname)();return(0,l.jsxs)(a.s,{ml:{base:5,md:"275px"},px:{base:4,md:4},height:"14",width:"100%",alignItems:"center",className:"bg-surface1 rounded-xl mr-4 mt-4",borderBottomWidth:"1px",borderBottomColor:(0,u.dU)("gray.200","gray.800"),justifyContent:{base:"space-between",md:"flex-end"},...s,children:[(0,l.jsx)(h.K,{display:{base:"flex",md:"none"},onClick:n,variant:"outline","aria-label":"open menu",className:"border-none",icon:(0,l.jsx)(j.ND1,{})}),(0,l.jsxs)(x.z,{className:"w-full justify-between pl-4",spacing:{base:"0",md:"6"},children:[(0,l.jsx)(a.s,{className:"uppercase font-bold",justifyContent:"space-between",children:(0,l.jsx)("p",{className:"text-bottom pt-1",children:c?k(c):""})}),"STAFF"===k(c)?(0,l.jsx)(h.K,{className:"bg-primary text-white","aria-label":"Add staff",icon:(0,l.jsx)(m.Raw,{}),onClick:i}):null]}),(0,l.jsx)(b.Ay,{isModalOpen:t,onModalOpen:i,onModalClose:o})]})};function k(e){return e?e.substring(e.lastIndexOf("/")+1).split(".")[0].toUpperCase():""}function A(e,n){return!!n&&e.includes(k(n).toLowerCase())}let S=e=>{let{children:n}=e;return(0,l.jsx)(v,{children:n})};function I(e){let{children:n}=e;return(0,l.jsx)(t.az,{zIndex:1,children:(0,l.jsx)(S,{children:n})})}},1565:(e,n,s)=>{"use strict";s.d(n,{Ay:()=>S,Pu:()=>k,ZH:()=>A});var l=s(5155),t=s(8173),r=s(8506),a=s(1031),i=s(4965),o=s(2004),c=s(480),d=s(37),u=s(9778),h=s(1922),x=s(7331),m=s(5534),f=s(6165),p=s(7624),j=s(7328),b=s(5630),g=s(4136),C=s(8167),v=s(1758),y=s(5032),N=s(2115),w=s(6351);let k=[{label:"Preferred Shift Time",defaultIndex:0,selectedIndex:0,options:["Day","Night"]},{label:"Maximum Working Days in a Row",defaultIndex:3,selectedIndex:3,options:[...Array.from({length:4},(e,n)=>(n+0).toString())]}],A=e=>{let n=[];return n.push((0,l.jsx)("option",{value:e.options[e.selectedIndex],disabled:!0,hidden:!0,children:e.options[e.selectedIndex]},"default")),e.options.forEach((e,s)=>{n.push((0,l.jsx)("option",{value:s,children:e},s))}),n},S=e=>{let{isModalOpen:n,onModalOpen:s,onModalClose:S}=e,{skillList:I,addStaffMember:O}=(0,w.A)(),[z,F]=N.useState(""),[P,_]=N.useState(""),[E,M]=(0,N.useState)(""),[D,T]=(0,N.useState)(["STAFF"]),Q=N.useRef(null),U=e=>{"STAFF"!==e&&T(n=>n.includes(e)?n.filter(n=>n!==e):[...n,e])},B=()=>{""!==z.trim()&&(O(z.trim(),D,k),F(""),_(""),T(["STAFF"]),S())};return(0,l.jsxs)(t.aF,{isOpen:n,onClose:S,children:[(0,l.jsx)(r.m,{}),(0,l.jsxs)(a.$,{children:[(0,l.jsx)(i.r,{children:"Create staff member"}),(0,l.jsx)(o.s,{}),(0,l.jsx)(c.c,{children:(0,l.jsxs)("form",{className:"flex flex-col gap-4",onKeyPress:e=>{"Enter"===e.key&&B()},children:[(0,l.jsx)(d.p,{onChange:e=>F(e.target.value),placeholder:"Name",value:z}),(0,l.jsx)(d.p,{onChange:e=>M(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&""!==E.trim()){e.preventDefault();let n=E.trim().toUpperCase();D.includes(n)||T(e=>[...e,n]),M("")}},placeholder:"New Qualification",value:E}),(0,l.jsxs)(u.B,{children:[Object.keys(I).map((e,n)=>(0,l.jsx)(u.Q,{children:(0,l.jsx)(h.E,{size:"l",onClick:()=>U(e),colorScheme:D.includes(e)?"purple":"gray",cursor:"pointer",children:e},n)},n)),D.filter(e=>!I.hasOwnProperty(e)).map((e,n)=>(0,l.jsx)(u.Q,{children:(0,l.jsx)(h.E,{size:"l",onClick:()=>U(e),colorScheme:D.includes(e)?"purple":"gray",cursor:"pointer",children:e},"new-".concat(n))},n))]}),(0,l.jsx)(x.n,{allowToggle:!0,children:(0,l.jsxs)(m.A,{children:[(0,l.jsx)("h2",{children:(0,l.jsxs)(f.J,{children:[(0,l.jsx)(p.az,{flex:"1",textAlign:"left",children:"Constraints"}),(0,l.jsx)(j.Q,{})]})}),(0,l.jsx)(b.v,{pb:4,children:k.map((e,n)=>(0,l.jsxs)("div",{className:"flex my-4 gap-4",children:[(0,l.jsx)(g.s,{className:"text-sm basis-[150%] items-center justify-end",children:(0,l.jsx)("label",{className:"align-right text-right",children:e.label})}),(0,l.jsx)(C.l,{className:"my-1",defaultValue:e.defaultIndex,onChange:n=>{e.selectedIndex=parseInt(n.target.value)},children:A(e)},n)]},n))})]})})]})}),(0,l.jsxs)(v.j,{children:[(0,l.jsx)(y.$,{onClick:S,variant:"ghost",children:"Cancel"}),(0,l.jsx)(y.$,{className:"bg-primary text-white hover:shadow-lg hover:bg-opacity-80",mr:3,onClick:B,disabled:""===z.trim(),ref:Q,children:"Create"})]})]})]})}},6351:(e,n,s)=>{"use strict";s.d(n,{A:()=>r});var l=s(1674),t=s(9749);function r(){let[e,n]=(0,l.A)("staffList",{defaultValue:[]}),[s,r]=(0,l.A)("skillList",{defaultValue:{}}),a=(n,l)=>(l.filter(e=>!s.hasOwnProperty(e)).forEach(e=>{s[e]={count:0,minCount:0}}),Object.entries(s).reduce((s,t)=>{var r,a;let[i,o]=t,c=null!==(a=null===(r=e.find(e=>e.id===n))||void 0===r?void 0:r.skills.filter(e=>e===i).length)&&void 0!==a?a:0,d=o.count-c,u=l.filter(e=>e===i).length;return{...s,...d+u>0?{[i]:{count:d+u,minCount:0}}:{}}},{}));return{staffList:e,skillList:s,addStaffMember:(l,a,i)=>{a=a.map(e=>e.toUpperCase()),n([...e,{id:(0,t.A)(),name:l,skills:a,constraints:i}]),r({...s,...a.reduce((e,n)=>{var l;return{...e,[n]:{count:((null===(l=s[n])||void 0===l?void 0:l.count)||0)+1,minCount:0}}},{})})},removeStaffMember:s=>{n(e.filter(e=>e.id!==s)),r(a(s,[]))},updateStaffMember:(s,l,t,i)=>{n(e.map(e=>e.id===s?{id:s,name:l,skills:t,constraints:i}:e)),r(a(s,t))},countStaffMembers:()=>e.length,setSkillMinCount:(e,n)=>{s[e]?r({...s,[e]:{...s[e],minCount:n}}):console.warn('Skill "'.concat(e,'" not found in skillList.'))}}}}},e=>{var n=n=>e(e.s=n);e.O(0,[479,844,622,212,474,435,156,108,441,517,358],()=>n(6018)),_N_E=e.O()}]);